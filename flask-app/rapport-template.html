<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rapport - EBarometre</title>
    <link rel="shortcut icon" href="/static/favicon.ico" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://flowbite.com/docs/flowbite.min.js"></script>
    <script src="/static/js/tailwind.config.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.3.3/d3.min.js"></script>

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;800;900&amp;display=swap"
    />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;600;700;800&amp;display=swap"
    />

    <link
      href="https://e-demo2.netlify.app/css/theme.min.css"
      type="text/css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    />
    <style>
      h1 {
        font-weight: 500 !important;
        line-height: 1.2 !important;
        font-size: 2.4rem !important;
        text-align: center;
        color: rgb(28, 97, 189) !important;
      }

      h2 {
        font-weight: 500 !important;
        line-height: 1.2 !important;
        font-size: 26px !important;
        color: rgb(255, 255, 255) !important;
        background-color: rgb(22, 32, 89);
        text-align: center;
        box-shadow: 0 20px 25px -5px rgb(22 32 89 / 0.2),
          0 8px 10px -6px rgb(22 32 89 / 0.3);
      }

      h3 {
        font-family: "Nunito Sans" !important;
        font-weight: 500 !important;
        line-height: 1.5 !important;
        color: rgb(28, 97, 189) !important;
        font-size: 1.25rem !important;
        margin-bottom: 1.5rem !important;
      }

      h4 {
        font-family: "Nunito Sans" !important;
        font-weight: 500 !important;
        line-height: 1.1 !important;
        color: rgb(28, 97, 189) !important;
        font-size: 0.875rem !important;
        margin-bottom: 1.5rem !important;
      }

      p {
        font-family: "Nunito Sans" !important;
        font-weight: 400 !important;
        line-height: 1.5 !important;
        color: #737491 !important;
        font-size: 0.875rem;
        margin-bottom: 1.5rem !important;
      }

      a {
        font-family: "Nunito Sans" !important;
        font-weight: 400 !important;
        line-height: 1.5 !important;
        color: rgb(62, 160, 236) !important;
        font-size: 0.875rem;
        margin-bottom: 1.5rem !important;
      }

      .b-gradient-bar {
        height: 10px;
        border-top-right-radius: 9999px;
        border-bottom-right-radius: 9999px;

        background: linear-gradient(
          90deg,
          rgb(109 176 134) calc(280px * 0.25),
          rgb(202 178 112) calc(280px * 0.4),
          rgb(212 132 108) calc(280px * 0.6),
          rgb(201 91 111) 280px
        );
      }

      .b-gradient-bar__left {
        transform: rotate(180deg);
      }
    </style>
  </head>
  <body style="background-color: rgb(236, 243, 255)">
    <div class="flex flex-col items-center space-y-12 py-5">
      <h1 class="py-[48px]">
        Quel est le contexte de coparentalité<br />
        de la famille?
      </h1>
      <h2 class="w-full py-4">
        Votre contexte familial présente-t-il un risque de conflit parental ?
      </h2>
      <div
        class="bg-white py-4 px-[32px] md:px-[64px] lg:px-[128px] lg:w-[1100px] rounded-[2rem] drop-shadow-xl mx-4 max-w-[1100px] text-center"
      >
        <div class="flex w-full">
          <div class="w-1/3"></div>
          <div class="w-1/3">
            <h4 class="text-center" style="font-weight: 600 !important">
              Parent Répondant
            </h4>
          </div>
          <div class="w-1/3">
            <h4 class="text-center" style="font-weight: 600 !important">
              Co Parent
            </h4>
          </div>
        </div>
        <div id="b2-root"></div>
        <div class="flex w-full mt-4">
          <div class="w-1/3"></div>
          <div class="w-2/3 flex ml-6">
            <div class="w-1/3">
              <h4
                class="text-center mb-0"
                style="
                  color: rgb(201 91 111) !important;
                  font-weight: 700 !important;
                "
              >
                En désaccord
              </h4>
            </div>
            <div class="w-1/3 relative">
              <svg
                class="absolute -top-2"
                xmlns="http://www.w3.org/2000/svg"
                height="32"
                viewBox="0 -960 960 960"
                width="32"
                style="transform: rotate(180deg) scaleX(1.25)"
              >
                <defs>
                  <linearGradient
                    id="MyGradient"
                    x1="0%"
                    y1="0%"
                    x2="100%"
                    y2="0%"
                  >
                    <stop offset="25%" style="stop-color: rgb(109, 176, 134)" />
                    <stop offset="40%" style="stop-color: rgb(202, 178, 112)" />
                    <stop offset="60%" style="stop-color: rgb(212, 132, 108)" />
                    <stop offset="100%" style="stop-color: rgb(201, 91, 111)" />
                  </linearGradient>
                </defs>

                <path
                  fill="url(#MyGradient)"
                  d="m702-301-43-42 106-106H120v-60h646L660-615l42-42 178 178-178 178Z"
                />
              </svg>
              <h4
                style="
                  color: rgb(109 176 134) !important;
                  font-weight: 700 !important;
                "
                class="text-center mb-0"
              >
                En accord
              </h4>
              <svg
                class="absolute right-0 -top-2"
                xmlns="http://www.w3.org/2000/svg"
                height="32"
                viewBox="0 -960 960 960"
                width="32"
                style="transform: scaleX(1.25)"
              >
                <defs>
                  <linearGradient
                    id="MyGradient"
                    x1="0%"
                    y1="0%"
                    x2="100%"
                    y2="0%"
                  >
                    <stop offset="25%" style="stop-color: rgb(109, 176, 134)" />
                    <stop offset="40%" style="stop-color: rgb(202, 178, 112)" />
                    <stop offset="60%" style="stop-color: rgb(212, 132, 108)" />
                    <stop offset="100%" style="stop-color: rgb(201, 91, 111)" />
                  </linearGradient>
                </defs>

                <path
                  fill="url(#MyGradient)"
                  d="m702-301-43-42 106-106H120v-60h646L660-615l42-42 178 178-178 178Z"
                />
              </svg>
            </div>
            <div class="w-1/3">
              <h4
                class="text-center mb-0"
                style="
                  color: rgb(201 91 111) !important;
                  font-weight: 700 !important;
                "
              >
                En désaccord
              </h4>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      const b2Root = document.getElementById("b2-root");

      const b2Data = {
        id: "barometer_2",
        items: [
          {
            name: "Consulte l’autre parent pour les décisions concernant l’enfant ",
            value_1: 28,
            value_2: 27,
          },
          {
            name: "Accepte les exigences de la coparentalité ",
            value_1: 25,
            value_2: 20,
          },
          {
            name: "Respecte la valeur parentale du coparent ",
            value_1: 22,
            value_2: 15,
          },
          {
            name: "Respecte l’autorité parentale du coparent ",
            value_1: 20,
            value_2: 16,
          },
          {
            name: "Salue l’autre parent lorsqu’il ou elle le croise",
            value_1: 24,
            value_2: 24,
          },
          {
            name: "Évite de faire des reproches au coparent ",
            value_1: 22,
            value_2: 22,
          },
          {
            name: "Est serein·e face à la séparation",
            value_1: 29,
            value_2: 29,
          },
          { name: "Accepte de faire des compromis ", value_1: 15, value_2: 10 },
        ],
        label_1: "Parent répondant",
        label_2: "Coparent",
      };

      const MAX_SCORE = 30;

      const items = [...b2Data.items];

      items.sort((a, b) => {
        const aTotal = a.value_1 + a.value_2;
        const bTotal = b.value_1 + b.value_2;

        return bTotal - aTotal;
      });

      items.forEach((item) => {
        const leftBarWidth = (item.value_1 / MAX_SCORE) * 280 + "px";
        const rightBarWidth = (item.value_2 / MAX_SCORE) * 280 + "px";

        const b2DataRow = document.createElement("div");
        b2DataRow.classList.add("flex", "w-full");
        b2DataRow.innerHTML = `
          <div class="w-1/3">
            <h4 class="mb-3 text-left" style="font-size:0.62rem!important;font-weight:600!important;">${item.name}</h4>
          </div>
          <div class="w-2/3 flex justify-center">
              <div class="w-1/2">
                <div style="width:${leftBarWidth}" class="b-gradient-bar__left b-gradient-bar  ml-auto"></div>
              </div>
              
              <div class="w-1/2">
                <div style="width:${rightBarWidth}" class="b-gradient-bar__right b-gradient-bar ml-4"></div>
              </div>
          </div>
     
          `;
        b2Root.append(b2DataRow);
      });
    </script>
  </body>
</html>
